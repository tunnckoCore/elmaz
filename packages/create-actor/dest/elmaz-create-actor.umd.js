!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.elmazCreateActor=n()}(this,function(){"use strict";function t(t){var n={events:t=Object.assign({},t),on:function(n,e){(t[n]||(t[n]=[])).push(e)},off:function(e,i){t[e]&&i?t[e].splice(t[e].indexOf(i)>>>0,1):e&&!i?n.events[e]=t[e]=[]:n.events=t={}},emit:function(n,e,i,c){(t[n]||[]).map(function(t){t(e,i,c)}),(t["*"]||[]).map(function(t){t(n,e,i,c)})},use:function(t){return Object.assign({},n,t(n))}};return n}return function(n){var e=t();return e._rawActions=Object.assign({},n),e.connect=function(t){e.store=t,e.dispatch=function(t,n,i,c){e.actions[t](n,i,c)},e.actions=Object.keys(e._rawActions).reduce(function(n,i){return n[i]=function(n,c,s){e.emit("action",i,n,c,s);var o={emit:e.emit,state:e.store.state,actions:e.actions,dispatch:e.dispatch,update:function(t){return function(n){return Object.assign({},n.state,t)}}},a=null;try{a=e._rawActions[i](o,n,c,s)}catch(t){e.emit("error",t)}if("function"==typeof a){var r=Object.assign({},t.state);return t.state=t.update(a({state:r}),!0),e.emit("stateChange",{prev:r,state:t.state}),null}return a},n},{})},e}});
//# sourceMappingURL=elmaz-create-actor.umd.js.map
